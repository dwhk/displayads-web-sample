/*! For license information please see ad-display-bundle.js.LICENSE.txt */
(()=>{var __webpack_exports__={};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _regeneratorRuntime(){"use strict";_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new x(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var f="suspendedStart",p="suspendedYield",y="executing",h="completed",v={};function b(){}function m(){}function g(){}var S={};l(S,a,(function(){return this}));var _=Object.getPrototypeOf,A=_&&_(_(I([])));A&&A!==r&&n.call(A,a)&&(S=A);var w=g.prototype=b.prototype=Object.create(S);function O(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(o,i,a,c){var u=d(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==_typeof(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=f;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=d(e,r,n);if("normal"===l.type){if(o=n.done?h:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable")}return m.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},O(T.prototype),l(T.prototype,c,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new T(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(r,t)},_wrapNativeSuper(t)}function _construct(t,e,r){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&_setPrototypeOf(o,r.prototype),o},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function asyncGeneratorStep(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){asyncGeneratorStep(i,n,o,a,c,"next",t)}function c(t){asyncGeneratorStep(i,n,o,a,c,"throw",t)}a(void 0)}))}}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){_defineProperty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var ImpressionServiceHost="https://uat-display-t-algoad.hkai.io";DEBUG_MODE=!1,window.adDisplay=function(){var AdDisplayType=Object.freeze({banner:"BANNER",splash:"SPLASH"}),BannerSize=Object.freeze({bannerTablet:AdSize(728,90),bannerMobile:AdSize(320,100),splashMobile:AdSize(320,480),splashTablet:AdSize(1024,768)}),AdAction=Object.freeze({adClose:"ad_close",adEmpty:"ad_empty",adLoaded:"ad_loaded",adError:"ad_error"}),Endpoint="",ImpressionService="",AD_REQUEST_TIMEOUT=8e3,AD_RENDER_TIMEOUT=8e3,SLOTS={};function init(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{},e=t.endpoint,r=t.impressionHost,n=t.requestTimeout,o=void 0===n?AD_REQUEST_TIMEOUT:n,i=t.renderTimeout,a=void 0===i?AD_RENDER_TIMEOUT:i;if(!e)throw buildAdError(10404);AD_REQUEST_TIMEOUT=o,AD_RENDER_TIMEOUT=a,(ImpressionService=r||ImpressionServiceHost).startsWith("http")||(ImpressionService="https://".concat(ImpressionService)),Endpoint=e.toLowerCase().startsWith("http")?e:"https://".concat(e),mutationObs.observe(document.querySelector("body"),{childList:!0,subtree:!0}),initEvents()}function generateDisplayLink(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";validateSlots(t),""!==e.trim()&&validateCustParams(e);var r,n=_objectSpread(_objectSpread({},{x_account:1,correlator:(new Date).getTime()}),{},{slots:buildSlots(t)});try{e=JSON.parse(e)}catch(t){}return r="string"==typeof e?e:qsstringify(e),"".concat(Endpoint,"?").concat(qsstringify(n),"&cust_params=").concat(encodeURIComponent(r))}function AdSize(t,e){return{width:t,height:e,toString:function(){return"".concat(t,"x").concat(e)},get value(){return[t,e]}}}function buildSlots(t){return t.forEach((function(t){var e;t.size=(null===(e=t.size)||void 0===e?void 0:e.value)||t.size})),btoa(JSON.stringify(t))}function buildSplash(t,e,r){var n=r.onAdLoadFailed,o=r.onAdLoadFinished,i=r.onAdRenderFinished,a=r.onAdPressed,c=r.onAdClosed,u=r.onAdSizeChanged,l=r.onError,s=r.onEmpty;try{generateDisplayLink(t,e);return buildBanner(t,e,{adType:AdDisplayType.splash,onAdLoadFailed:n,onAdLoadFinished:o,onAdRenderFinished:i,onAdPressed:a,onAdClosed:c,onAdSizeChanged:u,onError:l,onEmpty:s})}catch(t){null==n||n.call(void 0,t)}}function buildBanner(t,e,r){return _buildBanner.apply(this,arguments)}function _buildBanner(){return(_buildBanner=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,r,n){var o,i,a,c,u,l,s,d,f,p,y,h,v,b,m,g,S;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.adType,i=void 0===o?AdDisplayType.banner:o,a=n.onAdLoadFailed,c=n.onAdLoadFinished,u=n.onAdRenderFinished,l=n.onAdPressed,s=n.onAdClosed,d=n.onAdSizeChanged,f=n.onError,p=n.onEmpty,t.prev=1,y=generateDisplayLink(e,r),BannerSize.splashTablet,h=y.substr(y.indexOf("?")+1),v={},h.split("&").forEach((function(t){var e=_slicedToArray(t.split("="),2),r=e[0],n=e[1];v[r]=n})),v.size&&(b=v.size.split("x"),m=_slicedToArray(b,2),g=m[0],S=m[1],AdSize(g,S)),t.next=10,parseAdUrl(y,i,a,c,u,l,s,d,f,p);case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(1),a(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}function callImpression(t){try{fetchWithTimeout("".concat(ImpressionService,"/tracking/api/v1?acc=1&h=").concat(t,"&actName=adImpress"))}catch(e){console.log("AD-Display[".concat(t||"xx","] callImpressino err => $err"))}}function qsstringify(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")}function parseAdUrl(t,e,r,n,o,i,a,c,u,l){return _parseAdUrl.apply(this,arguments)}function _parseAdUrl(){return(_parseAdUrl=_asyncToGenerator(_regeneratorRuntime().mark((function t(e,r,n,o,i,a,c,u,l,s){var d,f,p,y,h,v,b,m,g,S,_,A,w,O,T,E;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetchWithTimeout(e);case 3:if((f=t.sent).ok){t.next=6;break}throw buildAdError(10601);case 6:return t.next=8,f.json();case 8:if(p=t.sent,y=null!==(d=p.ads)&&void 0!==d?d:[],null==(h=y[0])){t.next=28;break}if(v=h.html_template_url,b=h.sz?h.sz[0]:"0x0",m=b.split("x").map((function(t){return Number(t)})),g=_slicedToArray(m,2),S=g[0],_=g[1],A=AdSize(null!=S?S:0,null!=_?_:0),null!=v){t.next=18;break}throw buildAdError(10600);case 18:return w={isCalledImpression:!1,ad:h,size:A.value},O=getHtmlElement(v,r,A,h),T=h.as_id,SLOTS[T]=_objectSpread(_objectSpread({},w),{},{adView:O,onAdLoadFailed:n,onAdLoadFinished:o,onAdRenderFinished:i,onAdPressed:a,onAdClosed:c,onAdSizeChanged:u,onEmpty:s,onError:l}),null==o||o.call(SLOTS[T],SLOTS[T],T),E=setTimeout((function(){var t,e;try{var r;null===(r=SLOTS[T])||void 0===r||null===(r=r.adView)||void 0===r||r.remove(),requestAnimationFrame((function(){return cleanAd(T)}))}catch(t){}var n=buildAdError(10602,"ad render timeout");null===(t=SLOTS[T])||void 0===t||null===(t=t.onAdLoadFailed)||void 0===t||t.call(SLOTS[T],n,T,SLOTS[T]),null===(e=SLOTS[T])||void 0===e||null===(e=e.onError)||void 0===e||e.call(SLOTS[T],n,T,SLOTS[T])}),AD_RENDER_TIMEOUT),SLOTS[T].timeoutId=E,t.abrupt("return",_objectSpread(_objectSpread({},w),{},{adView:O,code:200}));case 28:throw buildAdError(10600);case 29:t.next=37;break;case 31:if(t.prev=31,t.t0=t.catch(0),!(t.t0 instanceof AdError)){t.next=35;break}throw t.t0;case 35:throw console.error("parerAdUrl err =>> ",t.t0),buildAdError(10601);case 37:case"end":return t.stop()}}),t,null,[[0,31]])})))).apply(this,arguments)}window.SLOTS=SLOTS;var getHtmlElement=function getHtmlElement(html,adType,size,ad){var id=ad.as_id,isSplash=adType===AdDisplayType.splash,width=size.width+"px",height=size.height+"px",styles="width: ".concat(width,"px; height: ").concat(height,"px"),dom=document.createElement("div"),src="".concat(html,"&targetAdsID=").concat(id,'"');return fetch(src).then((function(t){return t.text()})).then((function(html){html=html.replace(/gpt-passback/g,"gpt-passback_".concat(id)),dom.insertAdjacentHTML("afterbegin",html);var targetAdsID=id;requestAnimationFrame((function(){_toConsumableArray(dom.getElementsByTagName("script")).forEach((function(scriptTag){try{var jsCode=scriptTag.innerHTML;debuglog("jscode => ",jsCode),eval(jsCode)}catch(t){debuglog("eval error => ",t)}}))}))})).catch((function(t){var e,r;debuglog("err => ",t);var n=buildAdError(10602);null===(e=SLOTS[id])||void 0===e||null===(e=e.onAdLoadFailed)||void 0===e||e.call(SLOTS[id],n,id),null===(r=SLOTS[id])||void 0===r||null===(r=r.onError)||void 0===r||r.call(SLOTS[id],n,id)})),ob.observe(dom),dom},AD_ERROR={10404:"display endpoint missing",10500:"params error",10600:"ad empty",10601:"ad request failed",10602:"ad load failed",10609:"load failed: ad_empty."},AdError=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,o){var i;return _classCallCheck(this,r),(i=e.call(this,t,n,o)).name="AdError[".concat(t,"]"),i.code=t,i.message=n,i}return _createClass(r)}(_wrapNativeSuper(Error));function buildAdError(t,e,r){return e=e||AD_ERROR[t]||"unknown error",new AdError(t=t||10602,e,r)}var validateSlots=function(t){var e,r=_createForOfIteratorHelper(t);try{for(r.s();!(e=r.n()).done;){var n=e.value,o=n.af,i=(n.id,n.iu,n.sz);if(!["1","2"].includes((o||"").toString()))throw buildAdError(10500,"ValueError: af must be 1 or 2.");try{var a="string"==typeof i?JSON.parse(i):i;if(Array.isArray(a))continue;throw buildAdError(10500,"ValueError: sz must be a Array.")}catch(t){throw buildAdError(10500,"ValueError: sz must be a Array.")}}}catch(t){r.e(t)}finally{r.f()}return!0},validateCustParams=function(t){try{return JSON.parse(t),!0}catch(t){}if("string"==typeof t||/^[\w\W]*\=[\w\W]*(&[\w\W]*\=[\w\W]*)*$/.test(t))return!0;throw buildAdError(10500,"ValueError: cust_params must be a string of json or query.")};function fetchWithTimeout(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:AD_REQUEST_TIMEOUT,n=new AbortController,o=_objectSpread(_objectSpread({},e),{},{signal:n.signal}),i=setTimeout((function(){n.abort()}),r);return fetch(t,o).then((function(t){return clearTimeout(i),t})).catch((function(t){throw"AbortError"===t.name?buildAdError(10601,"ad request timeout.",t.stack):buildAdError(10601,t.toString(),t.stack)}))}var ob=new IntersectionObserver((function(t){t.forEach((function(t){var e,r=(t||{}).target;r&&(!t.isIntersecting||null!==(e=SLOTS[r.id])&&void 0!==e&&e.isCalledImpression||(callImpression(r.id),ob.unobserve(r)))}))}),{threshold:0}),mutationObs=new MutationObserver((function(t){var e=Object.keys(SLOTS);t.forEach((function(t){t.removedNodes&&t.removedNodes.forEach((function(t){try{var r=e.find((function(r){return!!e.includes(null==t?void 0:t.id)||t.contains(SLOTS[r].adView)}));r&&cleanAd(r)}catch(t){}}))}))})),onAdAction=function(t,e){if(t==AdAction.adEmpty){var r,n,o,i=buildAdError(10609);clearTimeout(null===(r=SLOTS[e])||void 0===r?void 0:r.timeoutId),null===(n=SLOTS[e])||void 0===n||null===(n=n.onAdLoadFailed)||void 0===n||n.call(SLOTS[e],i,e),null===(o=SLOTS[e])||void 0===o||null===(o=o.onError)||void 0===o||o.call(SLOTS[e],i,e)}else if(t===AdAction.adClose){var a;debuglog("action =>>> ",t),null===(a=SLOTS[e])||void 0===a||null===(a=a.onAdClosed)||void 0===a||a.call(SLOTS[e],SLOTS[e],e)}else if(t===AdAction.adError){var c,u,l,s=buildAdError(10602);clearTimeout(null===(c=SLOTS[e])||void 0===c?void 0:c.timeoutId),null===(u=SLOTS[e])||void 0===u||null===(u=u.onAdLoadFailed)||void 0===u||u.call(SLOTS[e],s,e),null===(l=SLOTS[e])||void 0===l||null===(l=l.onError)||void 0===l||l.call(SLOTS[e],s,e)}else if(t===AdAction.adLoaded){var d,f;clearTimeout(null===(d=SLOTS[e])||void 0===d?void 0:d.timeoutId),null===(f=SLOTS[e])||void 0===f||null===(f=f.onAdRenderFinished)||void 0===f||f.call(SLOTS[e],SLOTS[e],e)}},initEvents=function(){window.postMessageToFW=function(t){if(debuglog("postMessageToFW=====",t),"string"==typeof t)try{t=JSON.parse(t)}catch(t){}postMessage(t,"*")}},cleanAd=function(t){try{var e;if(SLOTS[t])null===(e=SLOTS[t].adView)||void 0===e||e.remove(),delete SLOTS[t]}catch(t){}},onMessage=function(t){var e=t.target,r=t.data,n=void 0===r?{}:r,o=n.action,i=n.targetAdsID;debuglog("event =>> ",{event:t,target:e}),i&&o&&onAdAction(o,i)};window.addEventListener("message",onMessage);var debuglog=function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];DEBUG_MODE&&(t=console).log.apply(t,["AD-DISPLAY [DEBUG]: "].concat(r))};return{init,BannerSize,generateDisplayLink,buildBanner,buildSplash}}()})();